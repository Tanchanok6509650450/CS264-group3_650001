<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>คำร้องขอเพิ่ม-ถอน รายวิชา</title>
    <link rel="icon" href="pic/TU.png" type="image/png">

</head>
<body>

<div class = "formaddrop">
<img src="pic/TU.png" alt="คำร้องขอเพิ่ม-ถอน รายวิชา" >
<h1 style="text-align: center;">คำร้องขอเพิ่ม-ถอน รายวิชา</h1>
<h2 style="text-align: center;">คณะวิทยาศาสตร์และเทคโนโลยี มหาวิทยาลัยธรรมศาสตร์ ศูนย์รังสิต</h2>

<label><star>*</star>แทน บังคับใส่ข้อมูล</label>
<link rel="stylesheet" type="text/css" href="addDropStyle.css">
<hr>
<!-- form submit api script -->
<script src="script/formSubmit.js"></script>

<form id="request" >
    <label for="date">วันที่<star>*</star></label>
    <input type="number" id="date" name="date" min="1" max="31" placeholder="1-31" required>
    <script>
        const dateInput = document.getElementById("date");

        dateInput.addEventListener("input", function () {
            const enteredDate = parseInt(this.value);

            if (isNaN(enteredDate) || enteredDate < 1 || enteredDate > 31) {
                // ถ้าค่าที่ป้อนมาไม่ใช่ตัวเลขหรือไม่อยู่ในช่วง 1-31 ให้ลบตัวอักษรสุดท้าย
                this.value = this.value.slice(0, -1);
            }
        });
    </script>

    <label for="month">เดือน<star>*</star></label>
    <input type="text" id="month" name="month" placeholder="1-12"required>
    <script>
        const monthInput = document.getElementById("month");

        monthInput.addEventListener("input", function () {
            const enteredMonth = parseInt(this.value);

            if (isNaN(enteredMonth) || enteredMonth < 1 || enteredMonth > 12) {
                // ถ้าค่าที่ป้อนมาไม่ใช่ตัวเลขหรือไม่อยู่ในช่วง 1-12 ให้ลบตัวอักษรสุดท้าย
                this.value = this.value.slice(0, -1);
            }
        });
    </script>

    <label for="year">ค.ศ.<star>*</star></label>
    <input type="text" id="year" name="year" placeholder="19XX-2XXX"required><hr>

    <h3>ข้อมูลส่วนตัวนักศึกษา</h3>
    <label for="prefix">คำนำหน้าชื่อ(นาย/นาง/นางสาว):<star>*</star></label>
    <select id="prefix" name="prefix">
        <option value="นาย">นาย</option>
        <option value="นาง">นาง</option>
        <option value="นางสาว">นางสาว</option>
    </select>

    <label for="studentFirstName">ชื่อ:<star>*</star></label>
    <input type="text" id="studentFirstName" name="studentFirstName" required>

    <label for="studentLastName">นามสกุล:<star>*</star></label>
    <input type="text" id="studentLastName" name="studentLastName" required>

    <label for="studentId">เลขทะเบียน:<star>*</star></label>
    <input type="text" id="studentId" name="studentId" maxlength="10" placeholder="รหัสนัศศึกษา 10 หลัก" required>

    <label for="studentYear">ชั้นปีที่:<star>*</star></label>
    <input type="text" id="studentYear" name="studentYear" required>
    <script>
        const yearInput = document.getElementById("studentYear");

        yearInput.addEventListener("input", function () {
            const maxYear = 7; // กำหนดค่าสูงสุดเป็น 7

            if (parseInt(this.value) > maxYear) {
                // ถ้าค่าที่ป้อนมามากกว่า 7 ให้เซ็ตค่าใหม่เป็น 7
                this.value = "กรอกข้อมูลใหม่";
            }
        });
    </script>
    <label for="studyField">สาขาวิชา(ในคณะวิทยาศาสตร์และเทคโนโลยี):<star>*</star></label>
    <input type="text" id="studyField" name="studyField" required>
    <label for="advisor">อาจารย์ที่ปรึกษา:<star>*</star></label>
    <input type="text" id="advisor" name="advisor" required>
    <hr>

    <h3>ข้อมูลที่สามารถติดต่อได้ทางไปรษณีย์</h3>
    <label for="addressNumber">บ้านเลขที่:<star>*</star></label>
    <input type="text" id="addressNumber" name="addressNumber" required>

    <label for="moo">หมู่:<star>*</star></label>
    <input type="text" id="moo" name="moo" required>

    <label for="tumbol">ตำบล:<star>*</star></label>
    <input type="text" id="tumbol" name="tumbol" required>

    <label for="amphur">อำเภอ:<star>*</star></label>
    <input type="text" id="amphur" name="amphur" required>

    <label for="province">จังหวัด:<star>*</star></label>
    <input type="text" id="province" name="province" required>

    <label for="postalcode">รหัสไปรษณีย์:<star>*</star></label>
    <input type="text" id="postalcode" name="postalcode" placeholder="รหัสไปรษณีย์ 5 หลัก" required>
    <script>
        const postalcodeInput = document.getElementById("postalcode");

        postalcodeInput.addEventListener("input", function () {
            // กำหนดความยาวสูงสุดให้เท่ากับ 5
            if (this.value.length > 5) {
                this.value = this.value.slice(0, 5);
            }
        });
    </script>

    <label for="mobilePhone">เบอร์โทรศัพท์:<star>*</star></label>
    <input type="text" id="mobilePhone" name="mobilePhone" placeholder="เบอร์โทรศัพท์ 10 หลัก"  required>
    <script>
        const mobilePhoneInput = document.getElementById("mobilePhone");

        mobilePhoneInput.addEventListener("input", function () {
            // กำหนดความยาวสูงสุดให้เท่ากับ 10
            if (this.value.length > 10) {
                this.value = this.value.slice(0, 10);
            }
        });
    </script>

    <label for="Phone">เบอร์โทรศัพท์บ้าน(ถ้ามี):</label>
    <input type="text" id="Phone" name="Phone" >
    <script>
        const phoneInput = document.getElementById("Phone");

        phoneInput.addEventListener("input", function () {
            // กำหนดความยาวสูงสุดให้เท่ากับ 10
            if (this.value.length > 10) {
                this.value = this.value.slice(0, 10);
            }
        });
    </script>
    <hr>
    <h3>วิชาที่ต้องการเพิ่ม/ถอน :</h3>
    <table id="addDropTable">
        <tr id="addDropTableHead">
            <th>ต้องการ</th>
            <th>รหัสวิชา</th>
            <th>ชื่อวิชา</th>
            <th>section</th>
            <th>วัน/เวลา</th>
            <th>หน่วยกิต</th>
            <th>ชื่อผู้สอน</th>
            <th>ผู้สอนอนุญาต</th>
        </tr>
    </table>
    <br>
    <div id="addDropButtonDiv">
        <select id="addDropChoice">
            <option value="เพิ่ม">เพิ่ม</option>
            <option value="ถอน">ถอน</option>
        </select>
        <input type="text" id="subjectID" name="subjectID" placeholder="รหัสวิชา" >
        <input type="text" id="subjectName" name="subjectName" placeholder="วิชา" >
        <input type="text" id="studentSection" name="studentSection" placeholder="section" >
        <input type="text" id="subjectDateTime" name="subjectDateTime" placeholder="วัน/เวลาที่เรียน" >
        <input type="text" id="subjectCredit" name="subjectCredit" placeholder="จำนวนหน่วยกิต" >
        <input type="text" id="subjectProfessor" name="subjectProfessor" placeholder="ชื่อผู้สอน" >
        <select id="addDropProfCheckChoice" name="addDropProfCheckButton">
            <option value="อนุญาต">อนุญาต</option>
            <option value="ไม่อนุญาต">ไม่อนุญาต</option>
        </select>

    </div>
    <br>
    <input type="button" id="addDropTable_addSubjectButton" onclick="addDropTable_addContent()" value="เพิ่มรายการ">
    <input type="button" id="DeleteaddDropTable_addSubjectButton" style="width: 25%;" onclick="addDropTable_deleteSubject()" value="ลบรายการล่าสุด">
    <br><br>
    <label for="cause">เหตุผลที่ขอการเพิ่มถอน<star>*</star></label>
    <textarea id="cause" name="cause" required></textarea><br>

    <button onclick="submitAddDropFormAPI()">ส่งแบบฟอร์ม</button>


</form>

</div>
</body>
</html>